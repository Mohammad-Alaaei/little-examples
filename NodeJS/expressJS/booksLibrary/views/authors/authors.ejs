<h2>Authors List</h2>
<br>

<form action="/authors" method="get">
    Search:
    <label for="name">by Name:</label>
    <input type="text" name="name" id="searchAuthorName"
        value="<%= (locals.searchOptions.name!=null)?searchOptions.name:'' %>">

    <label for="age">by Age:</label>
    <input type="text" name="age" id="searchauthorAge"
        value="<%= (locals.searchOptions.age!=null)?searchOptions.age:'' %>">

    <button type="submit">search</button>
</form>

<br>

<% if(locals.authors){ %>
    <a href="/authors/new">Add an Author</a>
    <table border="1px">
        <th>ID</th>
        <th>Name</th>
        <th>Age</th>
        <th width="100%"></th>
        <th colspan="3">Commands</th>

        <% authors.forEach(itm=> { %>
            <tr>
                <td>
                    <%= itm.id %>
                </td>
                <td>
                    <%= itm.name %>
                </td>
                <td>
                    <%= itm.age %>
                </td>
                <td></td>

                <!-- Commands -->
                <td><a href="/authors/<%= itm.id %>">View</a></td>
                <td><%- include('../layouts/partials/formPut', {url: `/authors/${itm.id}`}) %></td>
                <td><%- include('../layouts/partials/formDelete', {url: `/authors/${itm.id}`}) %></td>
            </tr>
            <% }); %>

    </table>
    <a href="/authors/new">Add an Author</a>
    <% } %>